<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Videos | NEMOWEB</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <main class="container">
        <h2 class="section-title">Todos los Videos de Nemo ðŸŽ¬</h2>
        <div id="video-feed" class="video-grid">
            <p style="grid-column: 1/-1; text-align: center; color: var(--accent);">Buscando videos en el canal...</p>
        </div>
    </main>

    <script>
        // ID de Nemo: UCpP_S_m7_N7O0yX_D9B4w9Q
        const channelID = "UCizsH-_19uxQPhyPhjQFDkg";
        const url = `https://api.rss2json.com/v1/api.json?rss_url=https://www.youtube.com/feeds/videos.xml?channel_id=${channelID}`;

        fetch(url)
            .then(res => res.json())
            .then(data => {
                const container = document.getElementById('video-feed');
                if(data.status === 'ok') {
                    container.innerHTML = ''; 
                    data.items.forEach(item => {
                        const videoID = item.link.split('v=')[1];
                        container.innerHTML += `
                            <a href="${item.link}" target="_blank" class="video-card">
                                <div class="v-img" style="background-image: url('https://img.youtube.com/vi/${videoID}/maxresdefault.jpg')"></div>
                                <div class="v-info"><h3>${item.title}</h3></div>
                            </a>`;
                    });
                }
            })
            .catch(e => console.error("Error cargando:", e));
    </script>
</body>
</html>
