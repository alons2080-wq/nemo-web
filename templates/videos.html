<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Videos | NEMO_704</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/favicon.png') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <header class="main-header">
        <div class="navbar">
            <div class="logo-circle">
                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Nemo">
            </div>
            <nav>
                <ul class="nav-menu">
                    <li><a href="/">INICIO</a></li>
                    <li><a href="/videos">VIDEOS</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <h2 class="section-title">Todos los Videos de Nemo ðŸŽ¬</h2>
        <div id="video-feed" class="video-grid">
            <p style="text-align: center; color: var(--accent);">Conectando con YouTube...</p>
        </div>
    </main>

    <script>
        // Script para traer videos automÃ¡ticamente
        const channelID = "UCpP_S_m7_N7O0yX_D9B4w9Q"; 
        const url = `https://api.rss2json.com/v1/api.json?rss_url=https://www.youtube.com/feeds/videos.xml?channel_id=${channelID}`;

        fetch(url)
            .then(res => res.json())
            .then(data => {
                const container = document.getElementById('video-feed');
                container.innerHTML = ''; // Limpiar mensaje de carga
                
                data.items.forEach(item => {
                    const videoID = item.link.split('v=')[1];
                    container.innerHTML += `
                        <a href="${item.link}" target="_blank" class="video-card">
                            <div class="v-img" style="background-image: url('https://img.youtube.com/vi/${videoID}/maxresdefault.jpg')"></div>
                            <div class="v-info">
                                <h3>${item.title}</h3>
                            </div>
                        </a>
                    `;
                });
            })
            .catch(err => console.error("Error cargando videos:", err));
    </script>
</body>
</html>
